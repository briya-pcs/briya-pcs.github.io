<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="icon.png">
    <link rel="stylesheet" href="styles.css">
    <title>Live Translation</title>
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-P703TNJXK1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-P703TNJXK1');
</script>

  // Wait for the GA script to fully load before starting the interval
  window.addEventListener("load", function() {
    console.log("Google Analytics script loaded, starting heartbeat...");
    setInterval(sendHeartbeat, 300000); // 5 minutes
  });
</script>

<body>
    <img src="qr.png" id="corner_qr" class="clickable" onclick="showQR()">
    <img src="mobile_icon.jpg" id="mobile_icon_right" class="mobile_icon_right clickable" onclick="showQR()">  
    <div class="currentText">
      <hr>
      <p id="latestParagraph"></p>
    </div>
    
    <div class="transcriptBox">
      <p id="transcript"></p>
    </div>
    <div id="anchor"></div>       
    <script src='script.js' type='text/javascript' ></script>
    <script>
        // Define page titles for different languages
        const titles = {
          Amharic: "የአማርኛ ትርጉም",
          Arabic: "الترجمة إلى اللغة العربية",
          Azerbaijani: "Azərbaycan dilinə tərcümə",
          Bengali: "বাংলায় অনুবাদ",
          Burmese: "မြန်မာဘာသာသို့ ဘာသာပြန်ခြင်း။",
          Chinese: "翻译成中文",
          French: "Traduction en français",
          HaitianCreole: "Tradiksyon an kreyòl ayisyen",                          
          Japanese: "日本語への翻訳",  
          Kazakh: "Қазақ тіліне аудару",              
          Khmer: "ការបកប្រែជាភាសាខ្មែរ",                        
          Korean: "한국어로 번역",                        
          Lao: "ແປເປັນພາສາລາວ",                        
          Persian: "ترجمه به فارسی",
          Portuguese: "Tradução para português",
          Russian: "Перевод на русский язык",      
          Spanish: "Traducción a Español",
          Thai: "รับแปลเป็นภาษาไทย",                        
          Turkish: "Türkçe'ye çeviri",
          Ukrainian: "Переклад українською",                        
          Uzbek: "O'zbek tiliga tarjima",
          Vietnamese: "Dịch sang tiếng Việt"
        };

        // Get language from URL parameter (default to Spanish)
        const urlParams = new URLSearchParams(window.location.search);
        const language = urlParams.get("lang") || "spanish";

        // Set the page title dynamically
        document.title = titles[language] || "Translation";
      // Fetch translations every 3 seconds
        window.onload = () => {
            console.log("✅ Page loaded. WebSocket will handle translations.");
        };
    </script>
</body>
</html>


